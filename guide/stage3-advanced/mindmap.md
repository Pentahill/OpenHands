# é˜¶æ®µä¸‰å­¦ä¹ è„‘å›¾ï¼šé«˜çº§å¼€å‘

```mermaid
mindmap
  root((é˜¶æ®µä¸‰<br/>é«˜çº§å¼€å‘<br/>3-4å‘¨))
    å‰ç«¯å¼€å‘æ·±å…¥
      React 19ç‰¹æ€§
        Server Components
        Concurrent Features
        Automatic Batching
        Suspenseæ”¹è¿›
        æ–°Hooks
      çŠ¶æ€ç®¡ç†
        Redux Toolkit
        RTK Query
        Contextä¼˜åŒ–
        çŠ¶æ€æŒä¹…åŒ–
        ä¸­é—´ä»¶å¼€å‘
      æ•°æ®è·å–
        TanStack Query
        ç¼“å­˜ç­–ç•¥
        ä¹è§‚æ›´æ–°
        é”™è¯¯å¤„ç†
        ç¦»çº¿æ”¯æŒ
      å®æ—¶é€šä¿¡
        Socket.IOé›†æˆ
        WebSocketç®¡ç†
        æ¶ˆæ¯é˜Ÿåˆ—
        è¿æ¥é‡è¯•
        çŠ¶æ€åŒæ­¥
      UIç»„ä»¶å¼€å‘
        HeroUIå®šåˆ¶
        Tailwindä¼˜åŒ–
        åŠ¨ç”»æ•ˆæœ
        å“åº”å¼è®¾è®¡
        å¯è®¿é—®æ€§

    åç«¯APIå¼€å‘
      FastAPIæ·±å…¥
        å¼‚æ­¥ç¼–ç¨‹
        ä¾èµ–æ³¨å…¥
        ä¸­é—´ä»¶ç³»ç»Ÿ
        é”™è¯¯å¤„ç†
        è‡ªåŠ¨æ–‡æ¡£
      æ•°æ®å¤„ç†
        Pydanticæ¨¡å‹
        æ•°æ®éªŒè¯
        åºåˆ—åŒ–ä¼˜åŒ–
        ç±»å‹å®‰å…¨
        è‡ªå®šä¹‰éªŒè¯å™¨
      å®æ—¶é€šä¿¡
        WebSocketå®ç°
        Server-Sent Events
        æ¶ˆæ¯å¹¿æ’­
        æˆ¿é—´ç®¡ç†
        è¿æ¥ç®¡ç†
      APIè®¾è®¡
        RESTfulåŸåˆ™
        ç‰ˆæœ¬æ§åˆ¶
        è®¤è¯æˆæƒ
        é™æµæ§åˆ¶
        æ–‡æ¡£ç”Ÿæˆ
      æ•°æ®åº“é›†æˆ
        SQLAlchemy
        å¼‚æ­¥ORM
        è¿æ¥æ± 
        æŸ¥è¯¢ä¼˜åŒ–
        äº‹åŠ¡ç®¡ç†

    LLMé›†æˆä¼˜åŒ–
      å¤šæ¨¡å‹æ”¯æŒ
        OpenAIé›†æˆ
        Anthropicé›†æˆ
        Googleé›†æˆ
        æœ¬åœ°æ¨¡å‹
        æ¨¡å‹åˆ‡æ¢
      æ™ºèƒ½è°ƒåº¦
        è´Ÿè½½å‡è¡¡
        æˆæœ¬ä¼˜åŒ–
        æ€§èƒ½ç›‘æ§
        æ•…éšœè½¬ç§»
        A/Bæµ‹è¯•
      æç¤ºå·¥ç¨‹
        æç¤ºä¼˜åŒ–
        æ¨¡æ¿ç®¡ç†
        ä¸Šä¸‹æ–‡ç®¡ç†
        Few-shotå­¦ä¹ 
        Chain-of-Thought
      å‡½æ•°è°ƒç”¨
        å·¥å…·å®šä¹‰
        å‚æ•°éªŒè¯
        ç»“æœå¤„ç†
        é”™è¯¯æ¢å¤
        å¹¶è¡Œè°ƒç”¨
      æµå¼å¤„ç†
        å®æ—¶å“åº”
        å¢é‡æ›´æ–°
        èƒŒå‹å¤„ç†
        é”™è¯¯å¤„ç†
        çŠ¶æ€ç®¡ç†

    æ€§èƒ½è°ƒä¼˜
      å‰ç«¯ä¼˜åŒ–
        ä»£ç åˆ†å‰²
        æ‡’åŠ è½½
        ç¼“å­˜ç­–ç•¥
        Bundleä¼˜åŒ–
        å›¾ç‰‡ä¼˜åŒ–
      åç«¯ä¼˜åŒ–
        å¼‚æ­¥å¤„ç†
        æ•°æ®åº“ä¼˜åŒ–
        ç¼“å­˜è®¾è®¡
        è¿æ¥æ± 
        å†…å­˜ç®¡ç†
      ç³»ç»Ÿç›‘æ§
        æ€§èƒ½æŒ‡æ ‡
        é”™è¯¯è¿½è¸ª
        æ—¥å¿—åˆ†æ
        å‘Šè­¦ç³»ç»Ÿ
        å¯è§†åŒ–é¢æ¿
      è´Ÿè½½æµ‹è¯•
        å‹åŠ›æµ‹è¯•
        å¹¶å‘æµ‹è¯•
        å®¹é‡è§„åˆ’
        ç“¶é¢ˆåˆ†æ
        ä¼˜åŒ–å»ºè®®
      ç¼“å­˜ç­–ç•¥
        Redisé›†æˆ
        å†…å­˜ç¼“å­˜
        CDNé…ç½®
        ç¼“å­˜å¤±æ•ˆ
        ä¸€è‡´æ€§ä¿è¯

    ç»¼åˆé¡¹ç›®å¼€å‘
      é¡¹ç›®æ¶æ„
        æ¨¡å—è®¾è®¡
        æ¥å£å®šä¹‰
        æ•°æ®æµè®¾è®¡
        é”™è¯¯å¤„ç†
        æµ‹è¯•ç­–ç•¥
      åŠŸèƒ½å®ç°
        æ ¸å¿ƒåŠŸèƒ½
        ç”¨æˆ·ç•Œé¢
        APIæ¥å£
        æ•°æ®å¤„ç†
        é›†æˆæµ‹è¯•
      è´¨é‡ä¿è¯
        å•å…ƒæµ‹è¯•
        é›†æˆæµ‹è¯•
        ç«¯åˆ°ç«¯æµ‹è¯•
        æ€§èƒ½æµ‹è¯•
        å®‰å…¨æµ‹è¯•
      éƒ¨ç½²å‡†å¤‡
        ç¯å¢ƒé…ç½®
        ä¾èµ–ç®¡ç†
        æ„å»ºä¼˜åŒ–
        ç›‘æ§é…ç½®
        æ–‡æ¡£å®Œå–„
```

## ğŸ¯ æŠ€æœ¯æ ˆæ·±åº¦å­¦ä¹ è·¯å¾„

### 1. å‰ç«¯æŠ€æœ¯æ·±åº¦è·¯å¾„
```mermaid
graph TD
    A[ReactåŸºç¡€] --> B[React 19æ–°ç‰¹æ€§]
    B --> C[çŠ¶æ€ç®¡ç†è¿›é˜¶]
    C --> D[æ€§èƒ½ä¼˜åŒ–]
    D --> E[å®æ—¶é€šä¿¡]
    E --> F[ç»„ä»¶åº“å¼€å‘]
    F --> G[æµ‹è¯•å’Œéƒ¨ç½²]
```

### 2. åç«¯æŠ€æœ¯æ·±åº¦è·¯å¾„
```mermaid
graph TD
    A[FastAPIåŸºç¡€] --> B[å¼‚æ­¥ç¼–ç¨‹]
    B --> C[æ•°æ®å¤„ç†]
    C --> D[å®æ—¶é€šä¿¡]
    D --> E[æ•°æ®åº“é›†æˆ]
    E --> F[APIè®¾è®¡]
    F --> G[æ€§èƒ½ä¼˜åŒ–]
```

### 3. LLMé›†æˆæ·±åº¦è·¯å¾„
```mermaid
graph TD
    A[LiteLLMåŸºç¡€] --> B[å¤šæ¨¡å‹ç®¡ç†]
    B --> C[æ™ºèƒ½è°ƒåº¦]
    C --> D[æç¤ºå·¥ç¨‹]
    D --> E[å‡½æ•°è°ƒç”¨]
    E --> F[æµå¼å¤„ç†]
    F --> G[æˆæœ¬ä¼˜åŒ–]
```

## ğŸ“Š æŠ€èƒ½å‘å±•çŸ©é˜µ

| æŠ€èƒ½é¢†åŸŸ | åˆçº§ | ä¸­çº§ | é«˜çº§ | ä¸“å®¶çº§ |
|---------|------|------|------|--------|
| Reactå¼€å‘ | åŸºç¡€ç»„ä»¶ | çŠ¶æ€ç®¡ç† | æ€§èƒ½ä¼˜åŒ– | æ¶æ„è®¾è®¡ |
| FastAPI | åŸºç¡€API | å¼‚æ­¥å¤„ç† | å¤æ‚ä¸šåŠ¡ | ç³»ç»Ÿè®¾è®¡ |
| LLMé›†æˆ | åŸºç¡€è°ƒç”¨ | å¤šæ¨¡å‹ | æ™ºèƒ½è°ƒåº¦ | æˆæœ¬ä¼˜åŒ– |
| æ€§èƒ½ä¼˜åŒ– | åŸºç¡€ç›‘æ§ | ç“¶é¢ˆåˆ†æ | ç³»ç»Ÿè°ƒä¼˜ | æ¶æ„ä¼˜åŒ– |

## ğŸ› ï¸ æ ¸å¿ƒå¼€å‘æ¨¡å¼

### 1. å‰ç«¯å¼€å‘æ¨¡å¼
```typescript
// é«˜çº§Reactç»„ä»¶æ¨¡å¼
interface ComponentProps {
  data: DataType;
  onUpdate: (data: DataType) => void;
  config: ConfigType;
}

const AdvancedComponent: React.FC<ComponentProps> = ({
  data,
  onUpdate,
  config
}) => {
  // ä½¿ç”¨è‡ªå®šä¹‰Hooks
  const { state, actions } = useComponentState(data);
  const { isLoading, error } = useAsyncOperation();

  // æ€§èƒ½ä¼˜åŒ–
  const memoizedValue = useMemo(() =>
    computeExpensiveValue(data), [data]
  );

  const handleUpdate = useCallback((newData: DataType) => {
    actions.update(newData);
    onUpdate(newData);
  }, [actions, onUpdate]);

  // é”™è¯¯è¾¹ç•Œ
  if (error) return <ErrorFallback error={error} />;

  return (
    <Suspense fallback={<LoadingSpinner />}>
      <ComponentContent
        state={state}
        onUpdate={handleUpdate}
        config={config}
      />
    </Suspense>
  );
};
```

### 2. åç«¯å¼€å‘æ¨¡å¼
```python
# é«˜çº§FastAPIæ¨¡å¼
from fastapi import FastAPI, Depends, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from contextlib import asynccontextmanager

@asynccontextmanager
async def lifespan(app: FastAPI):
    # å¯åŠ¨æ—¶åˆå§‹åŒ–
    await initialize_services()
    yield
    # å…³é—­æ—¶æ¸…ç†
    await cleanup_services()

app = FastAPI(lifespan=lifespan)

# ä¾èµ–æ³¨å…¥
async def get_service() -> ServiceType:
    return await ServiceFactory.create()

# é«˜çº§è·¯ç”±å¤„ç†
@app.post("/api/v1/process")
async def process_data(
    request: ProcessRequest,
    service: ServiceType = Depends(get_service),
    background_tasks: BackgroundTasks
) -> ProcessResponse:
    try:
        # å¼‚æ­¥å¤„ç†
        result = await service.process(request.data)

        # åå°ä»»åŠ¡
        background_tasks.add_task(
            update_analytics,
            request.user_id,
            result
        )

        return ProcessResponse(
            success=True,
            result=result,
            processing_time=result.duration
        )
    except ServiceException as e:
        raise HTTPException(
            status_code=400,
            detail=str(e)
        )
```

### 3. LLMé›†æˆæ¨¡å¼
```python
# æ™ºèƒ½LLMç®¡ç†æ¨¡å¼
class SmartLLMRouter:
    def __init__(self):
        self.models = ModelRegistry()
        self.load_balancer = LoadBalancer()
        self.cost_optimizer = CostOptimizer()

    async def route_request(
        self,
        request: LLMRequest
    ) -> LLMResponse:
        # åˆ†æè¯·æ±‚ç‰¹å¾
        features = await self.analyze_request(request)

        # é€‰æ‹©æœ€ä¼˜æ¨¡å‹
        model = await self.select_model(features)

        # ä¼˜åŒ–æç¤º
        optimized_prompt = await self.optimize_prompt(
            request.prompt, model
        )

        # æ‰§è¡Œè¯·æ±‚
        response = await self.execute_request(
            model, optimized_prompt, request.config
        )

        # è®°å½•å’Œåˆ†æ
        await self.record_usage(model, request, response)

        return response
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. å‰ç«¯æ€§èƒ½ä¼˜åŒ–
```typescript
// ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
const LazyComponent = lazy(() => import('./HeavyComponent'));

// è™šæ‹ŸåŒ–é•¿åˆ—è¡¨
const VirtualizedList = ({ items }: { items: Item[] }) => {
  return (
    <FixedSizeList
      height={600}
      itemCount={items.length}
      itemSize={50}
      itemData={items}
    >
      {({ index, style, data }) => (
        <div style={style}>
          <ItemComponent item={data[index]} />
        </div>
      )}
    </FixedSizeList>
  );
};

// ç¼“å­˜ç­–ç•¥
const useOptimizedData = (key: string) => {
  return useQuery({
    queryKey: [key],
    queryFn: fetchData,
    staleTime: 5 * 60 * 1000, // 5åˆ†é’Ÿ
    cacheTime: 10 * 60 * 1000, // 10åˆ†é’Ÿ
    refetchOnWindowFocus: false
  });
};
```

### 2. åç«¯æ€§èƒ½ä¼˜åŒ–
```python
# å¼‚æ­¥å¤„ç†å’Œç¼“å­˜
import asyncio
from functools import lru_cache
import aioredis

class OptimizedService:
    def __init__(self):
        self.redis = aioredis.from_url("redis://localhost")
        self.semaphore = asyncio.Semaphore(10)  # å¹¶å‘é™åˆ¶

    @lru_cache(maxsize=1000)
    def expensive_computation(self, data: str) -> str:
        # å†…å­˜ç¼“å­˜è®¡ç®—ç»“æœ
        return complex_algorithm(data)

    async def cached_operation(self, key: str) -> dict:
        # Redisç¼“å­˜
        cached = await self.redis.get(key)
        if cached:
            return json.loads(cached)

        # è®¡ç®—ç»“æœ
        result = await self.compute_result(key)

        # ç¼“å­˜ç»“æœ
        await self.redis.setex(
            key, 3600, json.dumps(result)
        )

        return result

    async def batch_process(self, items: List[str]) -> List[dict]:
        # æ‰¹é‡å¤„ç†
        async with self.semaphore:
            tasks = [self.process_item(item) for item in items]
            return await asyncio.gather(*tasks)
```

## ğŸ” è°ƒè¯•å’Œç›‘æ§å·¥å…·

### 1. å‰ç«¯è°ƒè¯•å·¥å…·
```typescript
// æ€§èƒ½ç›‘æ§
const PerformanceMonitor = () => {
  useEffect(() => {
    // ç›‘æ§Core Web Vitals
    getCLS(console.log);
    getFID(console.log);
    getFCP(console.log);
    getLCP(console.log);
    getTTFB(console.log);
  }, []);

  return null;
};

// é”™è¯¯è¾¹ç•Œ
class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error) {
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    // å‘é€é”™è¯¯åˆ°ç›‘æ§æœåŠ¡
    errorReporting.captureException(error, {
      extra: errorInfo
    });
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback />;
    }

    return this.props.children;
  }
}
```

### 2. åç«¯ç›‘æ§å·¥å…·
```python
# æ€§èƒ½ç›‘æ§ä¸­é—´ä»¶
import time
from fastapi import Request, Response

@app.middleware("http")
async def performance_middleware(request: Request, call_next):
    start_time = time.time()

    # æ‰§è¡Œè¯·æ±‚
    response = await call_next(request)

    # è®¡ç®—å¤„ç†æ—¶é—´
    process_time = time.time() - start_time

    # è®°å½•æŒ‡æ ‡
    metrics.record_request_duration(
        method=request.method,
        path=request.url.path,
        status_code=response.status_code,
        duration=process_time
    )

    # æ·»åŠ å“åº”å¤´
    response.headers["X-Process-Time"] = str(process_time)

    return response

# å¥åº·æ£€æŸ¥
@app.get("/health")
async def health_check():
    checks = {
        "database": await check_database(),
        "redis": await check_redis(),
        "external_api": await check_external_api()
    }

    all_healthy = all(checks.values())

    return {
        "status": "healthy" if all_healthy else "unhealthy",
        "checks": checks,
        "timestamp": datetime.now().isoformat()
    }
```

## ğŸ¯ é¡¹ç›®å®æˆ˜å»ºè®®

### 1. é¡¹ç›®è§„åˆ’
- **éœ€æ±‚åˆ†æ**ï¼šæ˜ç¡®åŠŸèƒ½éœ€æ±‚å’Œæ€§èƒ½è¦æ±‚
- **æŠ€æœ¯é€‰å‹**ï¼šé€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆå’Œå·¥å…·
- **æ¶æ„è®¾è®¡**ï¼šè®¾è®¡å¯æ‰©å±•çš„ç³»ç»Ÿæ¶æ„
- **å¼€å‘è®¡åˆ’**ï¼šåˆ¶å®šè¯¦ç»†çš„å¼€å‘æ—¶é—´è¡¨

### 2. å¼€å‘å®è·µ
- **ä»£ç è§„èŒƒ**ï¼šéµå¾ªå›¢é˜Ÿä»£ç è§„èŒƒ
- **æµ‹è¯•é©±åŠ¨**ï¼šå…ˆå†™æµ‹è¯•å†å†™å®ç°
- **æŒç»­é›†æˆ**ï¼šè‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•
- **ä»£ç å®¡æŸ¥**ï¼šå®šæœŸè¿›è¡Œä»£ç å®¡æŸ¥

### 3. è´¨é‡ä¿è¯
- **å•å…ƒæµ‹è¯•**ï¼šè¦†ç›–æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- **é›†æˆæµ‹è¯•**ï¼šæµ‹è¯•ç»„ä»¶é—´äº¤äº’
- **æ€§èƒ½æµ‹è¯•**ï¼šéªŒè¯ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **å®‰å…¨æµ‹è¯•**ï¼šæ£€æŸ¥å®‰å…¨æ¼æ´

## ğŸ”— å­¦ä¹ èµ„æºæ¨è

### å®˜æ–¹æ–‡æ¡£
- [React 19 æ–‡æ¡£](https://react.dev)
- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com)
- [LiteLLM æ–‡æ¡£](https://docs.litellm.ai)

### è¿›é˜¶æ•™ç¨‹
- [React æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://react.dev/learn/render-and-commit)
- [FastAPI æœ€ä½³å®è·µ](https://fastapi.tiangolo.com/tutorial/)
- [LLM é›†æˆæ¨¡å¼](https://docs.litellm.ai/docs/providers)

### ç¤¾åŒºèµ„æº
- [React ç¤¾åŒº](https://reactjs.org/community/support.html)
- [FastAPI ç¤¾åŒº](https://github.com/tiangolo/fastapi/discussions)
- [OpenHands ç¤¾åŒº](https://github.com/All-Hands-AI/OpenHands/discussions)
